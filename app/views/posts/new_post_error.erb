<h1 class="title">New Recommendation</h1>

<form action="/posts" method="POST">
  <div class="field">
    <label class="label">Title</label>
    <% if @post.errors.include?(:title) %>
      <div class="control">     
        <input class="input is-danger" type="text" name="title" value="<%= @post.title %>" required>      
      </div>
    <% else %> 
      <div class="control">     
        <input class="input" type="text" name="name" value="<%= @post.title %>" required>      
      </div>
    <% end %> 

    <p class="help is-danger">
      <% if @post.errors.include?(:title) %>
        <% @post.errors[:title].each do |error| %>
          <%= error %>
        <% end %>
      <% end %>
    </p>
  </div>

  <div class="field">
    <label class="label">Description</label>
    <% if @post.errors.include?(:description) %>
      <div class="control">
        <textarea class="textarea" name="description" placeholder="Let everyone know what's so good about it, your favorite part, and any tips." value="<%= @post.description %>"></textarea>
      </div>
    <% else %>
      <div class="control">
        <textarea class="textarea" name="description" placeholder="Let everyone know what's so good about it, your favorite part, and any tips." value="<%= @post.description %>"></textarea>
      </div>
    <% end %>    

    <p class="help is-danger">
      <% if @post.errors.include?(:description) %>
        <% @post.errors[:description].each do |error| %>
          <%= error %>
        <% end %>
      <% end %>
    </p>
  </div>
  
  <div class="field">
    <label class="label">Link</label>
      <% if @post.errors.include?(:url) %>
        <div class="control">
          <input class="input is-danger" type="text" name="url" value="<%= @post.url %>" required>
        </div>
      <% else %>  
        <div class="control has-icons-left">
          <input class="input" type="text" name="username" value="<%= @post.username %>" required>
          <span class="icon is-small is-left">
          <i class="fas fa-user"></i>
          </span>
        </div>
      <% end %>    

    <p class="help is-danger">
      <% if @post.errors.include?(:username) %>
        <% @post.errors[:username].each do |error| %>
          <%= error %>
        <% end %>
      <% end %>
    </p>
  </div>

  <div class="field">
    <label class="label">Password</label>
    <% if @post.errors.include?(:password) %>
      <div class="control has-icons-left">
        <input class="input is-danger" type="string" name="password" value="<%= @post.password %>" required>
        <span class="icon is-small is-left">
          <i class="fas fa-lock"></i>
        </span>
      </div>
    <% else %>
      <div class="control has-icons-left">
        <input class="input" type="string" name="password" value="<%= @post.password %>" required>
        <span class="icon is-small is-left">
          <i class="fas fa-lock"></i>
        </span>
      </div>
    <% end %>

    <p class="help is-danger">
      <% if @post.errors.include?(:password) %>
        <% @post.errors[:password].each do |error| %>
          <%= error %>
        <% end %>
      <% end %>
    </p>
  </div>

  <div class="field is-horizontal">
    <div class="control">
      <input class="button is-link" type="submit" value="Sign up">
    </div>
    <div class="control">
      <button class="button is-text"><a href="/">Cancel</a></button>
    </div>
  </div>  
</form>